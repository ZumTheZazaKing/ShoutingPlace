(this.webpackJsonpsocial_platform=this.webpackJsonpsocial_platform||[]).push([[0],{105:function(e,t,i){"use strict";i.r(t);var c=i(0),n=i(14),s=i.n(n),o=i(5),r=(i(94),i(95),i(106),i(107),i(66));r.a.initializeApp({apiKey:"AIzaSyB2QhpdFDsPmelQzDXQZWT44w0jW0v0iiw",authDomain:"shoutingplace.firebaseapp.com",projectId:"shoutingplace",storageBucket:"shoutingplace.appspot.com",messagingSenderId:"324178521757",appId:"1:324178521757:web:0474ab0735981cb7332e74",measurementId:"G-QL87Y3L02R"});var a=r.a,l=i(144),d=i(2),u=a.auth(),j=a.firestore(),b=a.storage();function m(){return Object(d.jsxs)("div",{id:"SignIn",children:[Object(d.jsx)("h2",{children:"ShoutingPlace"}),Object(d.jsxs)("p",{children:["A place where people can shout out their thoughts without having to keep it in",Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),"(Once you sign in through one of the options, the other option will be unavailable ",Object(d.jsx)("b",{children:"permanently"}),")"]}),Object(d.jsx)(l.a,{variant:"contained",color:"secondary",onClick:function(){var e=new a.auth.GoogleAuthProvider;u.signInWithPopup(e)},children:"Sign in With Google"}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)(l.a,{variant:"contained",color:"primary",onClick:function(){var e=new a.auth.FacebookAuthProvider;u.signInWithPopup(e)},children:"Sign in With Facebook"})]})}function h(){return u.currentUser&&Object(d.jsx)(l.a,{variant:"contained",size:"small",onClick:function(){return u.signOut()},children:"Sign Out"})}var O=i(31),f=i(58),x=i.n(f),p=i(76),g=i.n(p),v=i(145),P=i(77),w=i.n(P),C=i(141);function N(e){return Object(d.jsx)("div",{id:"shoutAlert",className:"hide",ref:e.shoutAlertRef,children:Object(d.jsxs)("div",{id:"shoutAlertContent",children:[Object(d.jsx)("p",{children:"Delete the shout?"}),Object(d.jsx)(l.a,{onClick:function(){return e.closeShoutAlertRef()},children:"NO"}),Object(d.jsx)(l.a,{onClick:function(){e.deleteShout(),e.closeShoutAlertRef()},variant:"contained",color:"secondary",children:"YES"})]})})}var U=i(146),S=i(143),V=i(74),k=i.n(V);function R(e){var t=j.collection("comments"),i=j.collection("shouts");return Object(d.jsx)("div",{id:"CommentAlert",className:"hide",ref:e.commentAlertRef,children:Object(d.jsxs)("div",{id:"commentAlertContent",children:[Object(d.jsx)("p",{children:"Delete the comment?"}),Object(d.jsx)(l.a,{onClick:function(){return e.closeCommentAlert()},children:"NO"}),Object(d.jsx)(l.a,{onClick:function(){return e.closeCommentAlert(),t.doc(e.id).delete(),void i.doc(e.commentFor).get().then((function(t){i.doc(e.commentFor).update({commentCount:t.data().commentCount-1})}))},variant:"contained",color:"secondary",children:"YES"})]})})}function y(e){var t=e.commentData,i=t.commentBody,n=t.commentHandle,s=t.commentImage,o=t.commentTimestamp,r=t.id,a=t.uid,l=t.commentFor,b=j.collection("users");var m=Object(c.useRef)(),h=function(){return m.current.className=""};return Object(d.jsxs)("div",{className:"comment",id:r,name:a,children:[Object(d.jsxs)("div",{id:"commentHeader",children:[Object(d.jsxs)("div",{id:"commentInfo",children:[Object(d.jsx)("img",{onClick:null===u.currentUser?function(){}:u.currentUser.uid!==a?function(){return e.imageClick(),b.doc(a).get().then((function(t){e.setViews(t.data())})),void e.setViewUid(a)}:function(){},src:s,alt:"PP here"}),Object(d.jsxs)("p",{children:[Object(d.jsx)("span",{children:n}),Object(d.jsx)("br",{}),o]})]}),Object(d.jsx)("div",{id:"deleteContainer",children:null===u.currentUser?"":u.currentUser.uid===a?Object(d.jsx)(x.a,{id:"delete",onClick:function(){h()}}):""})]}),Object(d.jsx)("div",{id:"commentBody",children:i}),Object(d.jsx)(R,{commentAlertRef:m,id:r,commentFor:l,closeCommentAlert:function(){return m.current.className="hide"}})]})}var I=i(21);function L(e){var t=Object(c.useState)(""),i=Object(o.a)(t,2),n=i[0],s=i[1],r=j.collection("comments"),b=j.collection("users"),m=j.collection("shouts"),h=j.collection("notifications"),O=r.where("commentFor","==",e.id).orderBy("createdAt"),f=Object(I.a)(O,{idField:"id"}),x=Object(o.a)(f,1)[0];return Object(d.jsx)("div",{id:"Comments",ref:e.commentsRef,className:"hide",children:Object(d.jsxs)("div",{id:"commentsContent",children:[Object(d.jsx)("span",{id:"close",onClick:function(){return e.closeComments()},children:"\xd7"}),Object(d.jsx)("br",{}),Object(d.jsxs)("div",{id:"commentInput",children:[Object(d.jsx)(U.a,{children:"Comment!"}),Object(d.jsx)(S.a,{multiline:!0,rows:"2",fullWidth:!0,color:"primary",value:n,onChange:function(e){return function(e){return s(e.target.value)}(e)},inputProps:{maxLength:200},required:!0})]}),Object(d.jsx)("br",{}),Object(d.jsx)(l.a,{variant:"contained",color:"primary",onClick:function(){return function(){if(n){var t=(new Date).toLocaleString();b.doc(u.currentUser.uid).get().then((function(i){r.add({commentFor:e.id,commentHandle:i.data().username,commentImage:i.data().photoURL,commentBody:n,commentTimestamp:t,createdAt:a.firestore.FieldValue.serverTimestamp(),uid:u.currentUser.uid})})),m.doc(e.id).get().then((function(t){m.doc(e.id).update({commentCount:t.data().commentCount+1})})),s(""),u.currentUser.uid!==e.uid&&b.doc(u.currentUser.uid).get().then((function(i){h.add({notiUid:u.currentUser.uid,notiHandle:i.data().username,notiImage:i.data().photoURL,notiPost:e.id,notiFor:e.uid,createdAt:a.firestore.FieldValue.serverTimestamp(),notiMessage:"commented on your shout",notiTimestamp:t,notiPostImage:e.bodyImage}),b.doc(e.uid).get().then((function(t){b.doc(e.uid).update({notiCount:t.data().notiCount+1})}))}))}}()},children:Object(d.jsx)(k.a,{})}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)("hr",{}),Object(d.jsx)("div",{id:"commentsSection",children:x&&x.map((function(t){return Object(d.jsx)(y,{imageClick:e.imageClick,setViews:e.setViews,setViewUid:e.setViewUid,commentData:t},t.id)}))})]})})}function A(e){var t=e.shoutData,i=t.uid,n=t.userHandle,s=t.userImage,r=t.likeCount,l=t.createTimestamp,b=t.body,m=t.id,h=t.likeList,f=t.commentCount,p=t.bodyImage,P=j.collection("shouts"),U=j.collection("comments"),S=j.collection("users"),V=j.collection("notifications"),k=Object(c.useState)(!1),R=Object(o.a)(k,2),y=R[0],I=R[1],A=Object(c.useRef)(),H=Object(c.useRef)();return Object(d.jsxs)("div",{className:"shout",id:m,name:i,children:[Object(d.jsxs)("div",{id:"shoutHeader",children:[Object(d.jsxs)("div",{id:"shoutHeaderMain",children:[Object(d.jsx)("img",{src:s,alt:"PP here",onClick:null===u.currentUser?function(){}:u.currentUser.uid!==i?function(){return e.imageClick(),S.doc(i).get().then((function(t){e.setViews(t.data())})),void e.setViewUid(i)}:function(){}}),Object(d.jsx)("div",{id:"shoutInfo",children:Object(d.jsxs)("p",{children:[n,Object(d.jsx)("br",{}),Object(d.jsx)("span",{children:l})]})})]}),Object(d.jsx)("p",{children:null===u.currentUser?"":u.currentUser.uid===i?Object(d.jsx)(x.a,{onClick:function(){H.current.className=""},className:"deleteShout"}):""})]}),Object(d.jsx)("br",{}),Object(d.jsxs)("div",{id:"shoutBody",children:[Object(d.jsx)("p",{children:b}),Object(d.jsx)("br",{}),p?Object(d.jsx)(C.a,{in:y,collapsedSize:"100px",children:Object(d.jsx)("img",{src:p,onClick:y?function(){return I(!1)}:function(){return I(!0)},alt:"Post img here"})}):""]}),Object(d.jsxs)("div",{id:"shoutFooter",children:[Object(d.jsx)(v.a,{title:"Likes",children:Object(d.jsxs)("p",{id:"likes",onClick:function(){P.doc(m).get().then((function(e){if(e.data().likeList.includes(u.currentUser.uid)){if(P.doc(m).update({likeCount:r-1,likeList:h.slice(0,h.length-1)}),u.currentUser.uid===i)return;V.get().then((function(e){e.forEach((function(e){e.data().notiUid===u.currentUser.uid&&e.data().notiPost===m&&e.ref.delete()}))})),S.doc(i).get().then((function(e){S.doc(i).update({notiCount:e.data().notiCount-1})}))}else{if(P.doc(m).update({likeList:[].concat(Object(O.a)(h),[u.currentUser.uid]),likeCount:r+1}),u.currentUser.uid===i)return;var t=(new Date).toLocaleString();S.doc(u.currentUser.uid).get().then((function(e){V.add({notiUid:u.currentUser.uid,notiHandle:e.data().username,notiImage:e.data().photoURL,notiPost:m,notiFor:i,createdAt:a.firestore.FieldValue.serverTimestamp(),notiMessage:"liked your shout",notiTimestamp:t,notiPostImage:p}),S.doc(i).get().then((function(e){S.doc(i).update({notiCount:e.data().notiCount+1})}))}))}}))},children:[Object(d.jsx)(g.a,{}),r]})}),Object(d.jsx)(v.a,{title:"Comments",children:Object(d.jsxs)("p",{id:"comments",onClick:function(){return A.current.className=""},children:[Object(d.jsx)(w.a,{}),f]})})]}),Object(d.jsx)(N,{closeShoutAlertRef:function(){H.current.className="hide"},deleteShout:function(){P.doc(m).delete(),U.get().then((function(e){e.forEach((function(e){e.data().commentFor===m&&e.ref.delete()}))}))},shoutAlertRef:H}),Object(d.jsx)(L,{commentsRef:A,closeComments:function(){return A.current.className="hide"},id:m,uid:i,imageClick:e.imageClick,setViews:e.setViews,setViewUid:e.setViewUid,bodyImage:p})]})}function H(e){var t=Object(c.useState)("createdAt"),i=Object(o.a)(t,2),n=i[0],s=i[1],r=Object(c.useState)("Latest Shouts"),a=Object(o.a)(r,2),l=a[0],u=a[1],b=j.collection("shouts").orderBy(n,"desc"),m=Object(I.a)(b,{idField:"id"}),h=Object(o.a)(m,1)[0];function O(){e.openViewProfile(),e.closeProfile(),e.closeHomePage()}return Object(d.jsxs)("div",{id:"homepage",className:"hide",ref:e.homePageRef,children:[Object(d.jsxs)("div",{id:"header",children:[Object(d.jsx)("h2",{children:l}),Object(d.jsxs)("select",{onChange:function(e){return function(e){s(e.target.value),"createdAt"===e.target.value?u("Latest Shouts"):"likeCount"===e.target.value?u("Most Likes"):u("Most Comments")}(e)},value:n,children:[Object(d.jsx)("option",{value:"createdAt",children:"Lastest"}),Object(d.jsx)("option",{value:"likeCount",children:"Most Likes"}),Object(d.jsx)("option",{value:"commentCount",children:"Most Comments"})]})]}),Object(d.jsx)("div",{id:"shouts",children:h&&h.map((function(t){return Object(d.jsx)(A,{imageClick:O,setViewUid:e.setViewUid,setViews:e.setViewVariables,shoutData:t},t.id)}))})]})}var B=i(138);function F(e){return Object(d.jsx)("div",{id:"EditProfileAlert",className:"hide",ref:e.editProfileAlertRef,children:Object(d.jsxs)("div",{id:"alertContent",children:[Object(d.jsx)("span",{onClick:function(){return e.closeAlert()},children:"\xd7"}),Object(d.jsx)("br",{}),Object(d.jsx)("p",{children:e.alertMsg})]})})}function D(e){var t=Object(c.useState)(""),i=Object(o.a)(t,2),n=i[0],s=i[1],r=j.collection("users").doc(u.currentUser.uid),a=Object(c.useState)(""),m=Object(o.a)(a,2),h=m[0],O=m[1],f=Object(c.useRef)(),x=function(){return f.current.className=""};return Object(d.jsxs)("div",{id:"editProfile",className:"hide",ref:e.editProfileRef,children:[Object(d.jsxs)("div",{id:"editForm",children:[Object(d.jsxs)("div",{id:"fillIn",children:[Object(d.jsx)(U.a,{children:"Profile Picture"}),Object(d.jsx)("br",{}),Object(d.jsx)("input",{type:"file",accept:".png,.jpeg,.jpg",onChange:function(e){s(e.target.files[0])}}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)(U.a,{children:"Username"}),Object(d.jsx)(B.a,{inputProps:{maxLength:25},fullWidth:!0,color:"primary",value:e.username,onChange:function(t){return e.setUsername(t.target.value)},required:!0}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)(U.a,{children:"Bio"}),Object(d.jsx)(S.a,{multiline:!0,rows:"2",fullWidth:!0,color:"primary",value:e.bio,onChange:function(t){e.setBio(t.target.value),t.target.value=Math.max(0,parseInt(t.target.value)).toString().slice(0,12)},inputProps:{maxLength:160},required:!0}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)(U.a,{children:"Website"}),Object(d.jsx)(B.a,{fullWidth:!0,color:"primary",value:e.website,onChange:function(t){return e.setWebsite(t.target.value)},required:!0}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)(U.a,{children:"Email"}),Object(d.jsx)(B.a,{type:"email",fullWidth:!0,color:"primary",value:e.email,onChange:function(t){return e.setEmail(t.target.value)},required:!0}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{})]}),Object(d.jsx)(l.a,{type:"submit",id:"submit",color:"primary",variant:"contained",onClick:function(){return function(){if(!e.username)return O("Please fill in Username"),void x();if(e.bio||e.setBio("The user is lazy and didn't set a bio..."),e.website||e.setWebsite(""),e.email){if(!e.email.includes("@"))return O("Emails must have '@'"),void x()}else e.setEmail("");e.closeEditProfile(),r.update({username:e.username,bio:e.bio||"The user is lazy and didn't set a bio...",website:e.website,email:e.email}),n&&(b.ref("".concat(u.currentUser.uid,"PPImages/").concat(n.name)).put(n),setTimeout((function(){b.ref().child("".concat(u.currentUser.uid,"PPImages/").concat(n.name)).getDownloadURL().then((function(t){r.update({photoURL:t}),e.setPhotoURL(t)}))}),4e3))}()},children:"DONE"})]}),Object(d.jsx)(F,{editProfileAlertRef:f,closeAlert:function(){return f.current.className="hide"},alertMsg:h})]})}function T(e){var t=j.collection("shouts"),i=Object(c.useState)(""),n=Object(o.a)(i,2),s=n[0],r=n[1],m=Object(c.useState)(""),h=Object(o.a)(m,2),O=h[0],f=h[1],x=Object(c.useState)(""),p=Object(o.a)(x,2),g=p[0];p[1];return Object(d.jsx)("div",{id:"createShout",className:"hide",ref:e.createShoutRef,children:Object(d.jsxs)("div",{id:"createForm",children:[Object(d.jsx)("span",{id:"close",onClick:function(){return e.closeCreateShout()},children:"\xd7"}),Object(d.jsx)("h4",{children:"Create Shout"}),Object(d.jsx)(S.a,{multiline:!0,rows:"5",fullWidth:!0,color:"primary",inputProps:{maxLength:280},required:!0,value:s,onChange:function(e){return r(e.target.value)}}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsxs)("div",{id:"shoutButton",children:[Object(d.jsx)("input",{type:"file",accept:".png,.jpeg,.jpg",onChange:function(e){f(e.target.files[0])}}),Object(d.jsx)(l.a,{variant:"contained",color:"secondary",onClick:function(){return function(){if(s){var i=(new Date).toLocaleString();if(O)return b.ref("".concat(u.currentUser.uid,"PostImages/").concat(O.name)).put(O),setTimeout((function(){b.ref().child("".concat(u.currentUser.uid,"PostImages/").concat(O.name)).getDownloadURL().then((function(c){t.add({uid:u.currentUser.uid,userHandle:e.username,likeCount:0,commentCount:0,userImage:e.photoURL,body:s,createdAt:a.firestore.FieldValue.serverTimestamp(),createTimestamp:i,likeList:[],bodyImage:c})}))}),4e3),r(""),f(""),void e.closeCreateShout();t.add({uid:u.currentUser.uid,userHandle:e.username,likeCount:0,commentCount:0,userImage:e.photoURL,body:s,createdAt:a.firestore.FieldValue.serverTimestamp(),createTimestamp:i,likeList:[],bodyImage:g}),r(""),e.closeCreateShout()}}()},children:"SHOUT!"})]})]})})}var E=i(59),W=i.n(E),M=i(60),z=i.n(M),q=i(61),J=i.n(q);function G(e){var t=j.collection("shouts").where("uid","==",u.currentUser.uid).orderBy("createdAt","desc"),i=Object(I.a)(t,{idField:"id"}),n=Object(o.a)(i,1)[0],s=Object(c.useState)(u.currentUser.displayName),r=Object(o.a)(s,2),a=r[0],b=r[1],m=Object(c.useState)(u.currentUser.photoURL),O=Object(o.a)(m,2),f=O[0],x=O[1],p=Object(c.useState)("The user is lazy and didn't set a bio..."),g=Object(o.a)(p,2),P=g[0],w=g[1],C=Object(c.useState)(""),N=Object(o.a)(C,2),U=N[0],S=N[1],V=Object(c.useState)(""),k=Object(o.a)(V,2),R=k[0],y=k[1],L=Object(c.useState)("Loading..."),H=Object(o.a)(L,2),B=H[0],F=H[1],E=Object(c.useRef)(),M=Object(c.useRef)();function q(){e.openViewProfile(),e.closeProfile(),e.closeHomePage()}function G(e){b(e.username),x(e.photoURL),w(e.bio),S(e.website),y(e.email),F(e.joinDate)}var Q=e.usersRef.doc(u.currentUser.uid);return Object(c.useEffect)((function(){Q.get().then((function(e){e.exists||Q.set({username:u.currentUser.displayName,photoURL:u.currentUser.photoURL,bio:P,website:U,email:R,joinDate:(new Date).toLocaleDateString(),notiCount:0}),Q.get().then((function(e){return G(e.data())}))}))}),[]),Object(d.jsxs)("div",{id:"dashboard",ref:e.profileRef,children:[Object(d.jsxs)("div",{id:"dashboardContent",children:[Object(d.jsx)("img",{id:"profilePicture",src:f,alt:"profile phot should be here"}),Object(d.jsx)("button",{id:"editButton",onClick:function(){E.current.className=""},children:"EDIT"}),Object(d.jsx)("h2",{children:a}),Object(d.jsx)("p",{id:"bio",children:P}),U?Object(d.jsx)("p",{children:Object(d.jsxs)("a",{id:"link",href:U,children:[Object(d.jsx)(W.a,{className:"icon"}),U]})}):"",R?Object(d.jsxs)("p",{children:[Object(d.jsx)(z.a,{className:"icon"}),R]}):"",Object(d.jsxs)("p",{children:[Object(d.jsx)(J.a,{className:"icon"}),"Joined ",B]}),Object(d.jsx)("br",{}),Object(d.jsx)(h,{})]}),Object(d.jsx)("br",{}),Object(d.jsx)(v.a,{title:"Create Shout",children:Object(d.jsx)(l.a,{id:"addShout",variant:"contained",color:"primary",onClick:function(){M.current.className=""},children:"+"})}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsxs)("div",{id:"userShouts",children:[Object(d.jsx)("h2",{children:"Your Shouts"}),Object(d.jsx)("hr",{}),n&&n.map((function(t){return Object(d.jsx)(A,{imageClick:q,setViewUid:e.setViewUid,setViews:e.setViewVariables,shoutData:t},t.id)}))]}),Object(d.jsx)(D,{photoURL:f,username:a,bio:P,website:U,email:R,setPhotoURL:x,setUsername:b,setBio:w,setWebsite:S,setEmail:y,editProfileRef:E,closeEditProfile:function(){E.current.className="hide"}}),Object(d.jsx)(T,{createShoutRef:M,closeCreateShout:function(){M.current.className="hide"},username:a,photoURL:f})]})}var Q=i(80),Y=i.n(Q),Z=i(81),K=i.n(Z),_=i(79),X=i.n(_),$=i(142),ee=i(78),te=i.n(ee),ie=i(62);function ce(e){var t=Object(ie.a)(u),i=Object(o.a)(t,1)[0],n=j.collection("users"),s=Object(c.useState)(0),r=Object(o.a)(s,2),a=r[0],l=r[1];return setInterval((function(){null!==u.currentUser&&n.doc(u.currentUser.uid).get().then((function(e){l(e.data().notiCount)}))}),1e3),Object(d.jsxs)("div",{id:"Navbar",children:[Object(d.jsx)("p",{children:"ShoutingPlace"}),i?Object(d.jsxs)("div",{id:"navButtons",children:[Object(d.jsx)(v.a,{title:"Search",children:Object(d.jsx)(te.a,{onClick:function(){return e.closeNoti(),e.closeProfile(),e.closeHomePage(),e.closeViewProfile(),void e.openSearch()},className:"btn"})}),Object(d.jsx)(v.a,{title:"Notifications",children:Object(d.jsx)($.a,{color:"secondary",badgeContent:a,min:0,max:10,overlap:"circular",children:Object(d.jsx)(X.a,{onClick:function(){return e.openNoti(),e.closeProfile(),e.closeHomePage(),e.closeViewProfile(),e.closeSearch(),n.doc(u.currentUser.uid).update({notiCount:0}),void l(0)},className:"btn"})})}),Object(d.jsx)(v.a,{title:"Home",children:Object(d.jsx)(Y.a,{onClick:function(){return e.closeProfile(),e.openHomePage(),e.closeViewProfile(),e.closeNoti(),void e.closeSearch()},className:"btn"})}),Object(d.jsx)(v.a,{title:"Profile",children:Object(d.jsx)(K.a,{onClick:function(){return e.openProfile(),e.closeHomePage(),e.closeViewProfile(),e.closeNoti(),void e.closeSearch()},className:"btn"})})]}):""]})}function ne(e){var t=j.collection("shouts").where("uid","==",e.viewUid).orderBy("createdAt","desc"),i=Object(I.a)(t,{idField:"id"}),c=Object(o.a)(i,1)[0];function n(){e.openViewProfile(),e.closeProfile(),e.closeHomePage()}return Object(d.jsxs)("div",{id:"ViewProfile",className:"hide",ref:e.viewProfileRef,children:[Object(d.jsxs)("div",{id:"dashboardContent",children:[Object(d.jsx)("img",{id:"profilePicture",src:e.viewImage,alt:"Loading..."}),Object(d.jsx)("h2",{children:e.viewUsername}),Object(d.jsx)("p",{id:"bio",children:e.viewBio}),e.viewWebsite?Object(d.jsx)("p",{children:Object(d.jsxs)("a",{id:"link",href:e.viewWebsite,children:[Object(d.jsx)(W.a,{className:"icon"}),e.viewWebsite]})}):"",e.viewEmail?Object(d.jsxs)("p",{children:[Object(d.jsx)(z.a,{className:"icon"}),e.viewEmail]}):"",Object(d.jsxs)("p",{children:[Object(d.jsx)(J.a,{className:"icon"}),"Joined ",e.viewJoined]})]}),Object(d.jsx)("br",{}),Object(d.jsxs)("div",{id:"userShouts",children:[Object(d.jsxs)("h2",{children:[e.viewUsername,"'s Shouts"]}),Object(d.jsx)("hr",{}),c&&c.map((function(t){return Object(d.jsx)(A,{imageClick:n,setViewUid:e.setViewUid,setViews:e.setViewVariables,shoutData:t})}))]})]})}function se(e){var t=e.notiData,i=t.notiHandle,c=t.notiImage,n=t.notiMessage,s=t.notiTimestamp,o=t.notiPost,r=j.collection("shouts");return Object(d.jsxs)("div",{className:"notification",onClick:function(){return e.openNotiPost(),void r.doc(o).get().then((function(t){e.setNotiPostName(t.data().userHandle),e.setNotiPostImage(t.data().userImage),e.setNotiPostTime(t.data().createTimestamp),e.setNotiPostBody(t.data().body),e.setNotiPostBodyImage(t.data().bodyImage),e.setNotiPostHandle(i),e.setNotiMessage(n),e.setNotiPostHandleImage(c)}))},children:[Object(d.jsx)("img",{src:c,alt:"PP here"}),Object(d.jsxs)("p",{children:[i," ",n," ",Object(d.jsx)("span",{children:s})]})]})}function oe(e){var t=Object(c.useState)(!1),i=Object(o.a)(t,2),n=i[0],s=i[1];return Object(d.jsx)("div",{id:"notificationPost",className:"hide",ref:e.notiPostRef,children:Object(d.jsxs)("div",{id:"notiPostContent",children:[Object(d.jsx)("span",{id:"close",onClick:function(){return e.closeNotiPost()},children:"\xd7"}),Object(d.jsxs)("div",{id:"notiPostHeader",children:[Object(d.jsx)("img",{src:e.notiPostImage,alt:"PP here"}),Object(d.jsxs)("p",{children:[Object(d.jsx)("span",{children:e.notiPostName}),Object(d.jsx)("br",{}),e.notiPostTime]})]}),Object(d.jsxs)("div",{id:"notiPostBody",children:[Object(d.jsx)("p",{children:e.notiPostBody}),Object(d.jsx)("br",{}),e.notiPostBodyImage?Object(d.jsx)(C.a,{in:n,collapsedSize:"100px",children:Object(d.jsx)("img",{src:e.notiPostBodyImage,onClick:n?function(){return s(!1)}:function(){return s(!0)},alt:"Post img here"})}):""]}),Object(d.jsxs)("div",{id:"notiPostFooter",children:[Object(d.jsx)("img",{src:e.notiPostHandleImage,alt:"pp here"}),Object(d.jsxs)("p",{children:[e.notiPostHandle," ","commented on your shout"===e.notiPostMessage?"commented on this shout":"liked this shout"]})]})]})})}function re(e){var t=Object(c.useRef)(),i=function(){return t.current.className=""},n=Object(c.useState)(""),s=Object(o.a)(n,2),r=s[0],a=s[1],l=Object(c.useState)(""),b=Object(o.a)(l,2),m=b[0],h=b[1],O=Object(c.useState)(""),f=Object(o.a)(O,2),x=f[0],p=f[1],g=Object(c.useState)(""),v=Object(o.a)(g,2),P=v[0],w=v[1],C=Object(c.useState)(""),N=Object(o.a)(C,2),U=N[0],S=N[1],V=Object(c.useState)(""),k=Object(o.a)(V,2),R=k[0],y=k[1],L=Object(c.useState)(""),A=Object(o.a)(L,2),H=A[0],B=A[1],F=Object(c.useState)(""),D=Object(o.a)(F,2),T=D[0],E=D[1],W=j.collection("notifications"),M=u.currentUser?W.where("notiFor","==",u.currentUser.uid).orderBy("createdAt","desc").limit(50):W,z=Object(I.a)(M,{idField:"id"}),q=Object(o.a)(z,1)[0];return Object(d.jsxs)("div",{id:"Notifications",className:"hide",ref:e.notiRef,children:[Object(d.jsx)("h2",{children:"Notifications"}),Object(d.jsx)("div",{id:"notis",children:q&&q.map((function(e){return Object(d.jsx)(se,{openNotiPost:i,setNotiPostName:a,setNotiPostImage:h,setNotiPostBody:w,setNotiPostTime:p,setNotiPostHandle:y,setNotiMessage:B,setNotiPostHandleImage:E,setNotiPostBodyImage:S,notiData:e},e.id)}))}),Object(d.jsx)(oe,{closeNotiPost:function(){return t.current.className="hide"},notiPostRef:t,notiPostName:r,notiPostImage:m,notiPostTime:x,notiPostBody:P,notiPostHandle:R,notiPostMessage:H,notiPostHandleImage:T,notiPostBodyImage:U})]})}function ae(e){var t=e.resultData,i=t.photoURL,c=t.username,n=t.bio,s=t.id,o=j.collection("users");return Object(d.jsxs)("div",{className:"searchResult",onClick:function(){u.currentUser.uid!==s&&(e.openViewProfile(),o.doc(s).get().then((function(t){e.setViews(t.data())})),e.setViewUid(s))},children:[Object(d.jsx)("img",{src:i,alt:"PP here"}),Object(d.jsxs)("p",{children:[Object(d.jsx)("span",{children:c}),Object(d.jsx)("br",{}),n]})]})}function le(e){var t=Object(c.useState)(""),i=Object(o.a)(t,2),n=i[0],s=i[1],r=j.collection("users").where("username","==",n);var a=Object(I.a)(r,{idField:"id"}),l=Object(o.a)(a,1)[0];function u(){e.openViewProfile(),e.closeProfile(),e.closeSearch()}return Object(d.jsxs)("div",{id:"SearchPage",className:"hide",ref:e.searchRef,children:[Object(d.jsxs)("div",{id:"searchbarContainer",children:[Object(d.jsx)(B.a,{color:"primary",id:"searchbar",value:n,onChange:function(e){return function(e){s(e.target.value)}(e)},fullWidth:!0,placeholder:"Enter Name"}),Object(d.jsxs)("p",{children:["Names are ",Object(d.jsx)("b",{children:"case and space sensitive"}),". Results will appear once a ",Object(d.jsx)("b",{children:"definite"})," match is found"]})]}),Object(d.jsx)("div",{id:"searchResults",children:l&&l.map((function(t){return Object(d.jsx)(ae,{openViewProfile:u,setViewUid:e.setViewUid,setViews:e.setViewVariables,resultData:t},t.id)}))})]})}var de=function(){var e=Object(ie.a)(u),t=Object(o.a)(e,1)[0],i=j.collection("users"),n=Object(c.useRef)(),s=function(){return n.current.className="hide"},r=Object(c.useRef)(),a=function(){return r.current.className="hide"},l=Object(c.useRef)(),b=function(){return l.current.className=""},h=Object(c.useRef)(),O=Object(c.useRef)(),f=function(){return O.current.className="hide"},x=Object(c.useState)("Loading..."),p=Object(o.a)(x,2),g=p[0],v=p[1],P=Object(c.useState)(""),w=Object(o.a)(P,2),C=w[0],N=w[1],U=Object(c.useState)("Loading..."),S=Object(o.a)(U,2),V=S[0],k=S[1],R=Object(c.useState)("Loading..."),y=Object(o.a)(R,2),I=y[0],L=y[1],A=Object(c.useState)("Loading..."),B=Object(o.a)(A,2),F=B[0],D=B[1],T=Object(c.useState)("Loading..."),E=Object(o.a)(T,2),W=E[0],M=E[1],z=Object(c.useState)(""),q=Object(o.a)(z,2),J=q[0],Q=q[1];function Y(e){v(e.username),N(e.photoURL),k(e.bio),L(e.website),D(e.email),M(e.joinDate)}return Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)(ce,{closeHomePage:s,openHomePage:function(){return n.current.className=""},closeProfile:a,openProfile:function(){return r.current.className=""},closeViewProfile:function(){return l.current.className="hide"},openNoti:function(){return h.current.className=""},closeNoti:function(){return h.current.className="hide"},openSearch:function(){return O.current.className=""},closeSearch:f}),t?Object(d.jsx)(G,{openViewProfile:b,usersRef:i,profileRef:r,closeHomePage:s,closeProfile:a,setViewVariables:Y,setViewUid:Q}):Object(d.jsx)(m,{}),Object(d.jsx)(H,{homePageRef:n,openViewProfile:b,closeProfile:a,closeHomePage:s,setViewVariables:Y,setViewUid:Q}),Object(d.jsx)(ne,{viewProfileRef:l,openViewProfile:b,closeProfile:a,closeHomePage:s,viewUsername:g,viewImage:C,viewBio:V,viewWebsite:I,viewEmail:F,viewJoined:W,viewUid:J,setViewUid:Q,setViewVariables:Y}),Object(d.jsx)(re,{notiRef:h}),Object(d.jsx)(le,{searchRef:O,openViewProfile:b,closeProfile:a,closeSearch:f,setViewVariables:Y,setViewUid:Q}),Object(d.jsx)("div",{id:"footer",children:Object(d.jsx)("p",{children:"ZUMTHEZAZAKING \xa92021"})})]})};s.a.render(Object(d.jsx)(de,{}),document.getElementById("root"))},94:function(e,t,i){}},[[105,1,2]]]);
//# sourceMappingURL=main.d329a85e.chunk.js.map